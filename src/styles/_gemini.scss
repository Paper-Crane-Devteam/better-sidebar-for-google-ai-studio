@layer base {
  /* Gemini Theme */
  .theme-gemini,
  :host(.theme-gemini) {
    /* Light Theme */
    /* Sidebar Defaults (Gemini Compact) */
    --sidebar-width: 3.5rem;
    --sidebar-button-size: 2.5rem;
    --sidebar-icon-size: 1.25rem;
    --sidebar-gap: 0.5rem;
    --sidebar-padding-y: 0.5rem;
    --sidebar-icon-color: 68 71 70;

    --background: 233 238 246; /* #e9eef6 */
    --foreground: 31 31 31; /* #1f1f1f */

    --card: 255 255 255; /* #ffffff */
    --card-foreground: 31 31 31;

    --popover: 255 255 255;
    --popover-foreground: 31 31 31;

    --primary: 11 87 208; /* #0b57d0 */
    --primary-foreground: 255 255 255;

    --secondary: 221 227 234; /* #dde3ea */
    --secondary-foreground: 31 31 31;

    --muted: 221 227 234;
    --muted-foreground: 68 71 70; /* #444746 */

    --accent: 221 227 234;
    --accent-foreground: 31 31 31;

    --destructive: 179 38 30; /* #b3261e */
    --destructive-foreground: 255 255 255;

    --border: 226 226 226; /* #e2e2e2 */
    --input: 220 220 220; /* #dcdcdc */
    --ring: 11 87 208;

    --radius: 16px;

    /* Custom Gemini Colors */
    --gem-sys-color--primary-container: #d3e3fd;
    --gem-sys-color--on-primary-container: #0842a0;

    /* Gemini Font */
    --font-sans:
      'Google Sans Flex', 'Google Sans', 'Helvetica Neue', sans-serif;
  }

  .theme-gemini.dark,
  :host(.theme-gemini.dark) {
    /* Dark Theme */
    --background: 30 31 32; /* #1e1f20 */
    --foreground: 227 227 227; /* #e3e3e3 */

    --card: 40 42 44; /* #282a2c */
    --card-foreground: 227 227 227;

    --popover: 40 42 44;
    --popover-foreground: 227 227 227;

    --primary: 168 199 250; /* #a8c7fa */
    --primary-foreground: 4 30 73; /* #041e49 */

    --secondary: 59 68 86; /* #3b4456 */
    --secondary-foreground: 227 227 227;

    --muted: 59 68 86;
    --muted-foreground: 196 199 197; /* #c4c7c5 */

    --accent: 59 68 86;
    --accent-foreground: 227 227 227;

    --destructive: 236 146 142; /* #ec928e */
    --destructive-foreground: 96 20 16; /* #601410 */

    --border: 60 64 67; /* #3c4043 */
    --input: 142 145 143; /* #8e918f */
    --ring: 168 199 250;

    /* Custom Gemini Colors */
    --gem-sys-color--primary-container: #1f3760;
    --gem-sys-color--on-primary-container: #d3e3fd;
  }

  /* Relaxed Mode - Theme Specific Overrides */
  .theme-gemini [data-density='relaxed'],
  :host(.theme-gemini) [data-density='relaxed'] {
    --sidebar-width: 4rem;
    --sidebar-button-size: 2.5rem;
    --sidebar-gap: 0.75rem;
    --sidebar-padding-y: 0.75rem;
  }
}

/* Gemini Scrollbar */
@media (pointer: fine) {
  /* Target scrollbars on the theme container itself AND its descendants */
  .theme-gemini::-webkit-scrollbar,
  .theme-gemini ::-webkit-scrollbar,
  .theme-gemini::-webkit-scrollbar-corner,
  .theme-gemini ::-webkit-scrollbar-corner {
    background: transparent;
    height: 12px;
    width: 12px;
  }
  .theme-gemini::-webkit-scrollbar-button,
  .theme-gemini ::-webkit-scrollbar-button {
    height: 0;
    width: 0;
  }
  .theme-gemini::-webkit-scrollbar-thumb,
  .theme-gemini ::-webkit-scrollbar-thumb {
    background-color: transparent;
    background-clip: content-box;
    border: 4px solid transparent;
    border-radius: 9999px;
    min-height: 48px;
    min-width: 48px;
  }

  /* Show scrollbar when hovering the container */
  .theme-gemini:hover::-webkit-scrollbar-thumb,
  .theme-gemini:hover ::-webkit-scrollbar-thumb {
    background-color: rgb(var(--muted-foreground) / 0.2);
  }

  /* Darker on thumb hover */
  .theme-gemini::-webkit-scrollbar-thumb:hover,
  .theme-gemini ::-webkit-scrollbar-thumb:hover {
    background-color: rgb(var(--muted-foreground) / 0.5);
  }
}

@layer components {
  /* Node Selection Styles - Gemini Specific */
  .theme-gemini .node-item-selected,
  :host(.theme-gemini) .node-item-selected {
    background-color: var(--gem-sys-color--primary-container);
    color: var(--gem-sys-color--on-primary-container);
  }
}
